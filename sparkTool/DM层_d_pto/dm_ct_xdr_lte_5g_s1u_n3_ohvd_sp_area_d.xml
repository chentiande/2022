<AggrSqlConfig topicId="dm_ct_xdr_lte_5g_s1u_n3_ohvd_sp_area_d" period="1d"
               desc="区域/业务大小类_用户面-4/5G话单-other/http/video/dns(1天)">
      <functions>
	  </functions>

    <tempTables>
	
    </tempTables>

    <resultTables>
	        <resultTable>
	<sql>
		<![CDATA[
			insert overwrite table ${result_db}.dm_ct_xdr_lte_5g_s1u_n3_ohvd_sp_area_d partition(p_date='${p_date}')
		
select '' as starttime,
'' as province_id,
max(置空) as province_name,
'' as area_id,
max(置空) as area_name,
'' as app_id,
max(置空) as app_name,
'' as sub_app_id,
max(置空) as sub_app_name,
max(置空) as ue_ambr_ul,
max(置空) as ue_ambr_dl,
max(置空) as apn_ambr_ul,
max(置空) as apn_ambr_dl,
sum(置空) as duration,
sum(置空) as output_octets,
sum(置空) as input_octets,
sum(置空) as total_data,
sum(置空) as output_packet,
sum(置空) as input_packet,
sum(置空) as ul_ipfrag_packs,
sum(置空) as dl_ipfrag_packs,
sum(置空) as ul_tcp_retrans_packet,
sum(置空) as dl_tcp_retrans_packet,
sum(置空) as ul_tcp_reordering_packet,
sum(置空) as dl_tcp_reordering_packet,
sum(置空) as tcp_setup_response_delay,
sum(置空) as tcp_setup_response_delay_cnt,
sum(置空) as tcp_setup_ack_delay,
sum(置空) as tcp_setup_ack_delay_cnt,
sum(置空) as delay_setup_first_transaction,
sum(置空) as delay_setup_first_transaction_cnt,
sum(置空) as delay_first_transaction_first_respackt,
sum(置空) as delay_first_transaction_first_respackt_cnt,
sum(置空) as tcp_connect_request_cnt,
sum(置空) as tcp_connect_succ_cnt,
sum(置空) as tcp_connect_fail_cnt,
sum(置空) as tcp_server_response_cnt,
sum(置空) as tcp_server_response_succ_cnt,
sum(置空) as tcp_termeral_response_cnt,
sum(置空) as tcp_termeral_response_succ_cnt,
sum(置空) as http_bigflow_duration,
sum(置空) as http_bigflow_duration_cnt,
sum(置空) as http_bigflow_input_octets,
sum(置空) as http_smalflow_duration,
sum(置空) as http_smalflow_duration_cnt,
sum(置空) as http_smalflow_input_octets,
sum(置空) as http_download_low_cnt,
sum(置空) as http_dl_rate_data,
sum(置空) as http_dl_rate_data_cnt,
sum(置空) as http_ul_rate_data,
sum(置空) as http_ul_rate_data_cnt,
sum(置空) as tcp_connect_delay,
sum(置空) as tcp_connect_delay_cnt,
sum(置空) as tcp_termeral_delay_cnt,
sum(置空) as tcp_server_delay_cnt,
sum(置空) as game_conn_delay,
sum(置空) as game_conn_delay_cnt,
sum(置空) as http_tcp_server_delay,
sum(置空) as http_tcp_server_delay_cnt,
sum(置空) as http_tcp_termeral_delay,
sum(置空) as http_tcp_termeral_delay_cnt,
sum(置空) as video_tcp_server_delay,
sum(置空) as video_tcp_server_delay_cnt,
sum(置空) as video_tcp_termeral_delay,
sum(置空) as video_tcp_termeral_delay_cnt,
sum(置空) as im_tcp_tcp_server_delay,
sum(置空) as im_tcp_tcp_server_delay_cnt,
sum(置空) as im_tcp_termeral_delay,
sum(置空) as im_tcp_termeral_delay_cnt,
sum(置空) as game_tcp_server_delay,
sum(置空) as game_tcp_server_delay_cnt,
sum(置空) as game_tcp_termeral_delay,
sum(置空) as game_tcp_termeral_delay_cnt,
sum(置空) as chkhand_good,
sum(置空) as chkhand_bad,
sum(置空) as rtt_ul_server_good,
sum(置空) as rtt_ul_server_bat,
sum(置空) as rtt_dl_termeral_good,
sum(置空) as rtt_dl_termeral_bat,
sum(置空) as ul_packet_loss_rate_good_cnt,
sum(置空) as ul_packet_loss_rate_bat_cnt,
sum(置空) as dl_packet_loss_rate_good_cnt,
sum(置空) as dl_packet_loss_rate_bat_cnt,
sum(置空) as n3_other_cnt,
sum(置空) as ul_upload_good,
sum(置空) as ul_upload_bat,
sum(置空) as dl_download_good,
sum(置空) as dl_download_bat,
sum(置空) as response_delay,
sum(置空) as response_delay_cnt,
sum(置空) as http_request_cnt,
sum(置空) as http_succ_cnt,
sum(置空) as http_noresponse_cnt,
sum(置空) as http_response_fail_cnt,
sum(置空) as http_server_fail_cnt,
sum(置空) as http_termeral_fail_cnt,
sum(置空) as page_open_succ_cnt,
sum(置空) as http_respdelay,
sum(置空) as http_respdelay_cnt,
sum(置空) as tcp_request_cnt,
sum(置空) as tcp_sr_request_succ_cnt,
sum(置空) as tcp_sr_delay,
sum(置空) as tcp_sr_delay_cnt,
sum(置空) as tcp_send_delay,
sum(置空) as tcp_send_delay_cnt,
sum(置空) as tcp_receive_delay,
sum(置空) as tcp_receive_delay_cnt,
sum(置空) as datapack_duration,
sum(置空) as datapack_duration_cnt,
sum(置空) as http_bigflow_delay,
sum(置空) as http_bigflow_delay_cnt,
sum(置空) as http_smalflow_delay,
sum(置空) as http_smalflow_delay_cnt,
sum(置空) as tcp_sr_request_cnt,
sum(置空) as f_packets_response_delay,
sum(置空) as f_packets_response_delay_cnt,
sum(置空) as dns_reply_delay,
sum(置空) as dns_reply_delay_cnt,
sum(置空) as first_tcp_pageopen_delay_nodns,
sum(置空) as first_tcp_pageopen_delay_nodns_cnt,
sum(置空) as first_tcp_pageopen_delay,
sum(置空) as first_tcp_pageopen_delay_cnt,
sum(置空) as first_screen_delay_nodns,
sum(置空) as first_screen_delay_nodns_cnt,
sum(置空) as first_screen_delay,
sum(置空) as first_screen_delay_cnt,
sum(置空) as first_screen_delaygood,
sum(置空) as first_screen_delaybad,
sum(置空) as f_packets_response_delaygood,
sum(置空) as f_packets_response_delaybad,
sum(置空) as pageopen_delaygood,
sum(置空) as pageopen_delaybad,
sum(置空) as http_dns_reply_delaygood,
sum(置空) as http_dns_reply_delaybad,
sum(置空) as connect_good,
sum(置空) as connect_bad,
sum(置空) as dns_reply_delaygood,
sum(置空) as dns_reply_delaybad,
sum(置空) as n3_http_cnt,
sum(置空) as videoplay_wait_duration,
sum(置空) as videoplay_wait_duration_cnt,
sum(置空) as videoplay_request_cnt,
sum(置空) as videoplay_succ_cnt,
sum(置空) as videoplay_halt_cnt,
sum(置空) as video_recover_duration,
sum(置空) as video_recover_duration_cnt,
sum(置空) as video_size,
sum(置空) as video_dl_duration,
sum(置空) as video_dl_duration_cnt,
sum(置空) as video_throughput,
sum(置空) as video_throughput_cnt,
sum(置空) as video_bit_rate,
sum(置空) as video_bit_rate_cnt,
sum(置空) as video_cache_throughput,
sum(置空) as video_cache_throughput_cnt,
sum(置空) as video_halt_rate,
sum(置空) as video_haltr_ate_cnt,
sum(置空) as video_avgspeed_good,
sum(置空) as video_avgspeed_bad,
sum(置空) as videoplay_halt_good,
sum(置空) as videoplay_halt_bad,
sum(置空) as videobit_code_good,
sum(置空) as videobit_code_bad,
sum(置空) as first_data_pkg_time,
sum(置空) as first_data_pkg_time_cnt,
sum(置空) as last_data_pkg_time,
sum(置空) as last_data_pkg_time_cnt,
sum(置空) as cached_video_duration,
sum(置空) as cached_video_duration_cnt,
sum(置空) as n3_video_cnt,
sum(置空) as tcp_syn_cnt,
sum(置空) as request_cnt,
sum(置空) as response_cnt,
sum(置空) as auth_cnt,
sum(置空) as additional_cnt,
sum(置空) as dns_resp_succ_cnt,
sum(置空) as dns_resp_fail_cnt,
sum(置空) as dns_resp_fail_1_cnt,
sum(置空) as dns_resp_fail_2_cnt,
sum(置空) as dns_resp_fail_3_cnt,
sum(置空) as dns_resp_fail_4_cnt,
sum(置空) as dns_resp_fail_5_cnt,
sum(置空) as dns_resp_fail_6_cnt,
sum(置空) as dns_resp_fail_255_cnt,
sum(置空) as dns_resp_duration,
sum(置空) as dns_resp_duration_cnt,
sum(置空) as dns_delay_less_99ms_cnt,
sum(置空) as dns_delay_100ms_199ms_cnt,
sum(置空) as dns_delay_200ms_299ms_cnt,
sum(置空) as dns_delay_300ms_399ms_cnt,
sum(置空) as dns_delay_400ms_499ms_cnt,
sum(置空) as dns_delay_500ms_599ms_cnt,
sum(置空) as dns_delay_600ms_699ms_cnt,
sum(置空) as dns_delay_700ms_1s_cnt,
sum(置空) as dns_delay_1s_2s_cnt,
sum(置空) as dns_resp_more_2s_cnt,
sum(置空) as n3_dns_cnt,
sum(置空) as n3_cnt,
'' as imsi_cnt,
'' as ul_tcp_renum_rat,
'' as dl_tcp_renum_rat,
'' as ul_tcp_discordnum_rat,
'' as dl_tcp_discordnum_rat,
'' as ul_throughput_rat,
'' as dl_throughput_rat,
'' as http_service_success_rat,
'' as page_open_success_rat,
'' as tcp_build_success_rat,
'' as tcp_server_success_rat,
'' as tcp_termeral_success_rat,
'' as udp_packetloss_rat,
'' as http_noresponse_req,
'' as big_http_download_rat,
'' as sm_http_download_rat,
'' as f_packets_response_good_rat,
'' as http_dns_res_good_rat,
'' as page_open_good_rat,
'' as page_screen_good_rat,
'' as im_good_rat,
'' as game_good_rat,
'' as vide_speed_good_rat,
'' as vide_halt_good_rat,
'' as bit_code_rate_good_rat,
'' as http_service_good_rat,
'' as vide_service_good_rat,
'' as rtt_ul_server_good_rat,
'' as rtt_dl_termeral_good_rat,
'' as rtt_service_good_rat,
'' as ul_upload_good_rat,
'' as dl_download_good_rat,
'' as tran_service_good_rate,
'' as udp_packetaccept_good_rat,
'' as service_perceive_good_rat,
'' as dns_resp_succ_rate,
sum(置空) as n3_game_cnt,
sum(置空) as game_tcp_avg_total_delay,
sum(置空) as game_tcp_avg_total_delay_cnt,
sum(置空) as game_udp_avg_total_delay,
sum(置空) as game_udp_avg_total_delay_cnt,
sum(置空) as game_tcp_avg_server_good,
sum(置空) as game_tcp_avg_server_bat,
sum(置空) as game_udp_avg_server_good,
sum(置空) as game_udp_avg_server_bat,
'' as game_tcp_avg_delay,
'' as game_udp_avg_delay,
'' as game_tcp_avg_server_good_rate,
'' as game_udp_avg_server_good_rate,
'' as game_avg_server_good_rate
from ${source_db}.dw_ct_xdr_lte_5g_s1u_n3_ohvd_sp_usrcity_ where p_date>='${p_date_start}' and p_date<'${p_date_end}' 

						  ]]>
            </sql>
        </resultTable>
	</resultTables>
	</AggrSqlConfig>